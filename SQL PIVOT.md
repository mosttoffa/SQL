## SQL PIVOT

тЬЕ <b>SQL PIVOT ржХрзА? </b> <br> 
PIVOT рж╣рж▓рзЛ SQL-ржПрж░ ржПржХржЯрж┐ relational operator, ржпрж╛ row (рж╕рж╛рж░рж┐) ржЧрзБрж▓рзЛржХрзЗ column (ржХрж▓рж╛ржо) ржП рж░рзВржкрж╛ржирзНрждрж░ ржХрж░рзЗред
ржПржЯрж┐ рж╕рж╛ржзрж╛рж░ржгржд ржмрзЬ ржбрзЗржЯрж╛ рж╕рзЗржЯржХрзЗ рж╕ржВржХрзНрж╖рзЗржкрзЗ ржПржмржВ ржкрж╛ржаржпрзЛржЧрзНржп рж░рж┐ржкрзЛрж░рзНржЯ ржЖржХрж╛рж░рзЗ ржжрзЗржЦрж╛ржирзЛрж░ ржЬржирзНржп ржмрзНржпржмрж╣рж╛рж░ ржХрж░рж╛ рж╣рзЯред
ржЕрж░рзНржерж╛рзО тАФ ржпрзЗржЦрж╛ржирзЗ ржЖржЧрзЗ ржкрзНрж░рждрж┐ ржмржЫрж░рзЗрж░ ржЕрж░рзНржбрж╛рж░ ржЖрж▓рж╛ржжрж╛ рж╕рж╛рж░рж┐рждрзЗ ржжрзЗржЦрж╛ржирзЛ рж╣ржЪрзНржЫрж┐рж▓, рж╕рзЗржЦрж╛ржирзЗ ржПржЦржи ржкрзНрж░рждрж┐ржЯрж┐ ржмржЫрж░ржХрзЗ ржЖрж▓рж╛ржжрж╛ ржХрж▓рж╛ржо рж╣рж┐рж╕рзЗржмрзЗ ржжрзЗржЦрж╛ржирзЛ ржпрж╛ржмрзЗред <br> 
ЁЯФ╖ <b>ржХрзЗржи PIVOT ржмрзНржпржмрж╣рж╛рж░ ржХрж░рж╛ рж╣рзЯ? </b> <br> 
 * ржбрзЗржЯрж╛ report ржмрж╛ summary ржЖржХрж╛рж░рзЗ ржЙржкрж╕рзНржерж╛ржкржи ржХрж░рждрзЗред
 * ржпржЦржи row-to-column transformation ржжрж░ржХрж╛рж░ рж╣рзЯред
 * ржмрж┐рж╢рзНрж▓рзЗрж╖ржг (analysis) ржмрж╛ visualization ржПрж░ ржЬржирзНржп ржбрзЗржЯрж╛ readable format ржП ржЖржирждрзЗред

ЁЯзо Example: (рж╕рж╣ржЬржнрж╛ржмрзЗ ржмрзЛржЭрж╛ржирзЛ) This example lists the total number of orders by year (ржзрж░рж╛ ржпрж╛ржХ, ржЖржорж░рж╛ ржкрзНрж░рждрж┐ ржмржЫрж░рзЗрж░ ржЕрж░рзНржбрж╛рж░рзЗрж░ рж╕ржВржЦрзНржпрж╛ ржЬрж╛ржирждрзЗ ржЪрж╛ржЗред)  <br> 
ЁЯФ╣ Step 1: рж╕рж╛ржзрж╛рж░ржг GROUP BY ржХрзБрзЯрзЗрж░рж┐ <br> 
<pre>
SELECT YEAR(OrderDate) AS Year, COUNT(Id) AS Count
FROM [Order]
GROUP BY YEAR(OrderDate)
ORDER BY YEAR(OrderDate);
</pre>
ЁЯФ╣ Step 2: PIVOT ржмрзНржпржмрж╣рж╛рж░ ржХрж░рзЗ ржПржХржЗ ржбрзЗржЯрж╛ тАЬColumn ржЖржХрж╛рж░рзЗтАЭ 
<pre>
SELECT '# Orders' AS Year, [2012], [2013], [2014]
  FROM (
        SELECT Id, DATEPART(YEAR, OrderDate) AS Year 
          FROM [Order]
       ) AS t
  PIVOT (
        COUNT(Id) 
        FOR Year IN ([2012], [2013], [2014])
  ) AS PivotTable;
</pre>
-- ржПржЦрж╛ржирзЗ ржжрзЗржЦрж╛ ржпрж╛ржЪрзНржЫрзЗ, Year ржЕржирзБржпрж╛рзЯрзА ржЕрж░рзНржбрж╛рж░ рж╕ржВржЦрзНржпрж╛ ржПржЦржи ржХрж▓рж╛ржорзЗ ржЪрж▓рзЗ ржПрж╕рзЗржЫрзЗред  
тЪЩя╕П <b>PIVOT ржПрж░ Syntax </b> 


